2022-06-19T08:32:14.707144Z  INFO proxy_server: Prometheus endpoint: localhost:9000
2022-06-19T08:32:14.707305Z DEBUG proxy_server: Config { control_port: 5000, token_secret: "secret", host: "localhost", remote_port_start: 3000, remote_port_end: 4000 }
2022-06-19T08:32:14.708712Z  INFO run: magic_tunnel_server::proxy_server: starting server!
2022-06-19T08:32:14.708979Z  INFO run: magic_tunnel_server::proxy_server: started tunnelto server on 0.0.0.0:5000
2022-06-19T08:32:14.709493Z  INFO Server::run{[3maddr[0m[2m=[0m0.0.0.0:5000}: warp::server: listening on http://0.0.0.0:5000
2022-06-19T08:33:31.484568Z DEBUG hyper::proto::h1::io: parsed 5 headers
2022-06-19T08:33:31.484897Z DEBUG hyper::proto::h1::conn: incoming body is empty
2022-06-19T08:33:31.485413Z DEBUG hyper::proto::h1::io: flushed 166 bytes
2022-06-19T08:33:31.488004Z DEBUG handle_websocket:handle_new_connection{[3mclient_ip[0m[2m=[0m127.0.0.1:51284}:try_client_handshake: magic_tunnel_server::control_server: read client hello
2022-06-19T08:33:31.488673Z DEBUG handle_websocket:handle_new_connection{[3mclient_ip[0m[2m=[0m127.0.0.1:51284}:try_client_handshake:verify_client_handshake{[3mclient_hello_data[0m[2m=[0m[123, 34, 118, 101, 114, 115, 105, 111, 110, 34, 58, 48, 44, 34, 116, 111, 107, 101, 110, 34, 58, 34, 101, 121, 74, 48, 101, 88, 65, 105, 79, 105, 74, 75, 86, 49, 81, 105, 76, 67, 74, 104, 98, 71, 99, 105, 79, 105, 74, 73, 85, 122, 73, 49, 78, 105, 74, 57, 46, 101, 121, 74, 111, 98, 51, 78, 48, 73, 106, 111, 105, 98, 71, 57, 106, 89, 87, 120, 111, 98, 51, 78, 48, 73, 105, 119, 105, 97, 87, 70, 48, 73, 106, 111, 120, 78, 106, 85, 49, 78, 106, 73, 51, 78, 106, 69, 120, 76, 67, 74, 108, 101, 72, 65, 105, 79, 106, 69, 50, 78, 84, 85, 50, 77, 106, 103, 121, 77, 84, 70, 57, 46, 101, 90, 95, 66, 77, 57, 111, 88, 107, 104, 53, 90, 87, 67, 113, 45, 99, 57, 107, 49, 113, 50, 51, 114, 108, 73, 105, 122, 57, 78, 68, 90, 87, 84, 104, 48, 115, 45, 65, 122, 111, 81, 81, 34, 44, 34, 112, 97, 121, 108, 111, 97, 100, 34, 58, 34, 79, 116, 104, 101, 114, 34, 125]}: magic_tunnel_server::control_server: got client handshake ClientHello { version: 0, token: "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJob3N0IjoibG9jYWxob3N0IiwiaWF0IjoxNjU1NjI3NjExLCJleHAiOjE2NTU2MjgyMTF9.eZ_BM9oXkh5ZWCq-c9k1q23rlIiz9NDZWTh0s-AzoQQ", payload: Other }
2022-06-19T08:33:31.489184Z  INFO handle_websocket:handle_new_connection{[3mclient_ip[0m[2m=[0m127.0.0.1:51284}:try_client_handshake:verify_client_handshake{[3mclient_hello_data[0m[2m=[0m[123, 34, 118, 101, 114, 115, 105, 111, 110, 34, 58, 48, 44, 34, 116, 111, 107, 101, 110, 34, 58, 34, 101, 121, 74, 48, 101, 88, 65, 105, 79, 105, 74, 75, 86, 49, 81, 105, 76, 67, 74, 104, 98, 71, 99, 105, 79, 105, 74, 73, 85, 122, 73, 49, 78, 105, 74, 57, 46, 101, 121, 74, 111, 98, 51, 78, 48, 73, 106, 111, 105, 98, 71, 57, 106, 89, 87, 120, 111, 98, 51, 78, 48, 73, 105, 119, 105, 97, 87, 70, 48, 73, 106, 111, 120, 78, 106, 85, 49, 78, 106, 73, 51, 78, 106, 69, 120, 76, 67, 74, 108, 101, 72, 65, 105, 79, 106, 69, 50, 78, 84, 85, 50, 77, 106, 103, 121, 77, 84, 70, 57, 46, 101, 90, 95, 66, 77, 57, 111, 88, 107, 104, 53, 90, 87, 67, 113, 45, 99, 57, 107, 49, 113, 50, 51, 114, 108, 73, 105, 122, 57, 78, 68, 90, 87, 84, 104, 48, 115, 45, 65, 122, 111, 81, 81, 34, 44, 34, 112, 97, 121, 108, 111, 97, 100, 34, 58, 34, 79, 116, 104, 101, 114, 34, 125]}: magic_tunnel_server::control_server: successfully validate client jwt
2022-06-19T08:33:31.490551Z DEBUG handle_websocket:handle_new_connection{[3mclient_ip[0m[2m=[0m127.0.0.1:51284}:try_client_handshake:send_server_hello{[3mserver_hello[0m[2m=[0mSuccess { client_id: ClientId("kiN0-XtHsKJtStdV520KPJKRa9beYjoQr6l7UhMBnrE"), remote_addr: "localhost:3487" }}: magic_tunnel_server::control_server: send server handshake Success { client_id: ClientId("kiN0-XtHsKJtStdV520KPJKRa9beYjoQr6l7UhMBnrE"), remote_addr: "localhost:3487" }
2022-06-19T08:33:31.490887Z  INFO handle_websocket:handle_new_connection{[3mclient_ip[0m[2m=[0m127.0.0.1:51284}: magic_tunnel_server::control_server: open tunnel cid=kiN0-XtHsKJtStdV520KPJKRa9beYjoQr6l7UhMBnrE port=3487
2022-06-19T08:33:31.491092Z  INFO handle_websocket:handle_new_connection{[3mclient_ip[0m[2m=[0m127.0.0.1:51284}:spawn_remote{[3mhost[0m[2m=[0m"host-foobar-3487"}: magic_tunnel_server::remote::tcp: remote process listening on "0.0.0.0:3487" remote=host-foobar-3487
2022-06-19T08:33:31.491254Z DEBUG handle_websocket:handle_new_connection{[3mclient_ip[0m[2m=[0m127.0.0.1:51284}: magic_tunnel_server::control_server: register remote_cancellers len=1 cid=kiN0-XtHsKJtStdV520KPJKRa9beYjoQr6l7UhMBnrE
2022-06-19T08:33:31.491346Z DEBUG handle_websocket:handle_new_connection{[3mclient_ip[0m[2m=[0m127.0.0.1:51284}: magic_tunnel_server::control_server: register client to connections len_clients=1 len_hosts=1 cid=kiN0-XtHsKJtStdV520KPJKRa9beYjoQr6l7UhMBnrE
2022-06-19T08:33:37.241266Z DEBUG handle_websocket:handle_new_connection{[3mclient_ip[0m[2m=[0m127.0.0.1:51284}:process_client:process_client_messages: warp::filters::ws: websocket poll error: WebSocket protocol error: Connection reset without closing handshake
2022-06-19T08:33:37.241506Z DEBUG handle_websocket:handle_new_connection{[3mclient_ip[0m[2m=[0m127.0.0.1:51284}:process_client:process_client_messages: magic_tunnel_server::control_server: goodbye client cid=kiN0-XtHsKJtStdV520KPJKRa9beYjoQr6l7UhMBnrE
2022-06-19T08:33:37.241937Z DEBUG handle_websocket:handle_new_connection{[3mclient_ip[0m[2m=[0m127.0.0.1:51284}:process_client: magic_tunnel_server::connected_clients: rm client cid=kiN0-XtHsKJtStdV520KPJKRa9beYjoQr6l7UhMBnrE
2022-06-19T08:33:37.242128Z DEBUG handle_websocket:handle_new_connection{[3mclient_ip[0m[2m=[0m127.0.0.1:51284}:process_client: magic_tunnel_server::control_server: remove client from connections len_clients=0 len_hosts=0 cid=kiN0-XtHsKJtStdV520KPJKRa9beYjoQr6l7UhMBnrE
2022-06-19T08:33:37.242245Z DEBUG handle_websocket:handle_new_connection{[3mclient_ip[0m[2m=[0m127.0.0.1:51284}:process_client: magic_tunnel_server::control_server: cancel remote process cid=kiN0-XtHsKJtStdV520KPJKRa9beYjoQr6l7UhMBnrE
2022-06-19T08:33:37.242526Z DEBUG handle_websocket:handle_new_connection{[3mclient_ip[0m[2m=[0m127.0.0.1:51284}:tunnel_client:tunnel_client: magic_tunnel_server::control_server: ending client tunnel cid=kiN0-XtHsKJtStdV520KPJKRa9beYjoQr6l7UhMBnrE
2022-06-19T08:33:37.242775Z  INFO handle_websocket:handle_new_connection{[3mclient_ip[0m[2m=[0m127.0.0.1:51284}:spawn_remote{[3mhost[0m[2m=[0m"host-foobar-3487"}:spawn_accept_connection: magic_tunnel_server::remote::tcp: tcp listener is cancelled. remote=host-foobar-3487
2022-06-19T08:33:37.242799Z DEBUG handle_websocket:handle_new_connection{[3mclient_ip[0m[2m=[0m127.0.0.1:51284}:tunnel_client: magic_tunnel_server::connected_clients: rm client cid=kiN0-XtHsKJtStdV520KPJKRa9beYjoQr6l7UhMBnrE
2022-06-19T08:33:37.243042Z DEBUG handle_websocket:handle_new_connection{[3mclient_ip[0m[2m=[0m127.0.0.1:51284}:tunnel_client: magic_tunnel_server::control_server: remove client from connections len_clients=0 len_hosts=0 cid=kiN0-XtHsKJtStdV520KPJKRa9beYjoQr6l7UhMBnrE
2022-06-19T08:35:06.641226Z DEBUG hyper::proto::h1::io: parsed 5 headers
2022-06-19T08:35:06.641521Z DEBUG hyper::proto::h1::conn: incoming body is empty
2022-06-19T08:35:06.641788Z DEBUG hyper::proto::h1::io: flushed 166 bytes
2022-06-19T08:35:06.644156Z DEBUG handle_websocket:handle_new_connection{[3mclient_ip[0m[2m=[0m127.0.0.1:51294}:try_client_handshake: magic_tunnel_server::control_server: read client hello
2022-06-19T08:35:06.644565Z DEBUG handle_websocket:handle_new_connection{[3mclient_ip[0m[2m=[0m127.0.0.1:51294}:try_client_handshake:verify_client_handshake{[3mclient_hello_data[0m[2m=[0m[123, 34, 118, 101, 114, 115, 105, 111, 110, 34, 58, 48, 44, 34, 116, 111, 107, 101, 110, 34, 58, 34, 101, 121, 74, 48, 101, 88, 65, 105, 79, 105, 74, 75, 86, 49, 81, 105, 76, 67, 74, 104, 98, 71, 99, 105, 79, 105, 74, 73, 85, 122, 73, 49, 78, 105, 74, 57, 46, 101, 121, 74, 111, 98, 51, 78, 48, 73, 106, 111, 105, 98, 71, 57, 106, 89, 87, 120, 111, 98, 51, 78, 48, 73, 105, 119, 105, 97, 87, 70, 48, 73, 106, 111, 120, 78, 106, 85, 49, 78, 106, 73, 51, 78, 122, 65, 50, 76, 67, 74, 108, 101, 72, 65, 105, 79, 106, 69, 50, 78, 84, 85, 50, 77, 106, 103, 122, 77, 68, 90, 57, 46, 113, 48, 113, 73, 84, 107, 57, 120, 70, 108, 45, 97, 85, 104, 57, 105, 114, 50, 121, 80, 55, 110, 117, 66, 89, 74, 80, 100, 77, 52, 82, 107, 68, 110, 51, 84, 88, 72, 121, 87, 81, 83, 119, 34, 44, 34, 112, 97, 121, 108, 111, 97, 100, 34, 58, 34, 85, 68, 80, 34, 125]}: magic_tunnel_server::control_server: got client handshake ClientHello { version: 0, token: "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJob3N0IjoibG9jYWxob3N0IiwiaWF0IjoxNjU1NjI3NzA2LCJleHAiOjE2NTU2MjgzMDZ9.q0qITk9xFl-aUh9ir2yP7nuBYJPdM4RkDn3TXHyWQSw", payload: UDP }
2022-06-19T08:35:06.644852Z  INFO handle_websocket:handle_new_connection{[3mclient_ip[0m[2m=[0m127.0.0.1:51294}:try_client_handshake:verify_client_handshake{[3mclient_hello_data[0m[2m=[0m[123, 34, 118, 101, 114, 115, 105, 111, 110, 34, 58, 48, 44, 34, 116, 111, 107, 101, 110, 34, 58, 34, 101, 121, 74, 48, 101, 88, 65, 105, 79, 105, 74, 75, 86, 49, 81, 105, 76, 67, 74, 104, 98, 71, 99, 105, 79, 105, 74, 73, 85, 122, 73, 49, 78, 105, 74, 57, 46, 101, 121, 74, 111, 98, 51, 78, 48, 73, 106, 111, 105, 98, 71, 57, 106, 89, 87, 120, 111, 98, 51, 78, 48, 73, 105, 119, 105, 97, 87, 70, 48, 73, 106, 111, 120, 78, 106, 85, 49, 78, 106, 73, 51, 78, 122, 65, 50, 76, 67, 74, 108, 101, 72, 65, 105, 79, 106, 69, 50, 78, 84, 85, 50, 77, 106, 103, 122, 77, 68, 90, 57, 46, 113, 48, 113, 73, 84, 107, 57, 120, 70, 108, 45, 97, 85, 104, 57, 105, 114, 50, 121, 80, 55, 110, 117, 66, 89, 74, 80, 100, 77, 52, 82, 107, 68, 110, 51, 84, 88, 72, 121, 87, 81, 83, 119, 34, 44, 34, 112, 97, 121, 108, 111, 97, 100, 34, 58, 34, 85, 68, 80, 34, 125]}: magic_tunnel_server::control_server: successfully validate client jwt
2022-06-19T08:35:06.645273Z DEBUG handle_websocket:handle_new_connection{[3mclient_ip[0m[2m=[0m127.0.0.1:51294}:try_client_handshake:send_server_hello{[3mserver_hello[0m[2m=[0mSuccess { client_id: ClientId("Xbyd64Nlvg5vU-EHdbgRLqJlBo9embbvEFvkDzSbKos"), remote_addr: "localhost:3296" }}: magic_tunnel_server::control_server: send server handshake Success { client_id: ClientId("Xbyd64Nlvg5vU-EHdbgRLqJlBo9embbvEFvkDzSbKos"), remote_addr: "localhost:3296" }
2022-06-19T08:35:06.645458Z  INFO handle_websocket:handle_new_connection{[3mclient_ip[0m[2m=[0m127.0.0.1:51294}: magic_tunnel_server::control_server: open tunnel cid=Xbyd64Nlvg5vU-EHdbgRLqJlBo9embbvEFvkDzSbKos port=3296
2022-06-19T08:35:06.645580Z  INFO handle_websocket:handle_new_connection{[3mclient_ip[0m[2m=[0m127.0.0.1:51294}: magic_tunnel_server::remote::udp: remote process listening on "0.0.0.0:3296" remote=host-foobar-3296
2022-06-19T08:35:06.645691Z DEBUG handle_websocket:handle_new_connection{[3mclient_ip[0m[2m=[0m127.0.0.1:51294}: magic_tunnel_server::control_server: register remote_cancellers len=1 cid=Xbyd64Nlvg5vU-EHdbgRLqJlBo9embbvEFvkDzSbKos
2022-06-19T08:35:06.645763Z DEBUG handle_websocket:handle_new_connection{[3mclient_ip[0m[2m=[0m127.0.0.1:51294}: magic_tunnel_server::control_server: register client to connections len_clients=1 len_hosts=1 cid=Xbyd64Nlvg5vU-EHdbgRLqJlBo9embbvEFvkDzSbKos
2022-06-19T08:38:50.567436Z DEBUG handle_websocket:handle_new_connection{[3mclient_ip[0m[2m=[0m127.0.0.1:51294}:process_udp_stream:process_udp_stream{[3mhost[0m[2m=[0m"host-foobar-3296"}: magic_tunnel_server::remote::udp: read 3 bytes message from remote client cid=Xbyd64Nlvg5vU-EHdbgRLqJlBo9embbvEFvkDzSbKos sid=stream_CsmjO-K6CIY
2022-06-19T08:38:50.569086Z DEBUG handle_websocket:handle_new_connection{[3mclient_ip[0m[2m=[0m127.0.0.1:51294}:process_udp_stream:process_udp_stream{[3mhost[0m[2m=[0m"host-foobar-3296"}: magic_tunnel_server::remote::udp: sent data packet to client cid=Xbyd64Nlvg5vU-EHdbgRLqJlBo9embbvEFvkDzSbKos sid=stream_CsmjO-K6CIY
2022-06-19T08:38:57.383868Z DEBUG handle_websocket:handle_new_connection{[3mclient_ip[0m[2m=[0m127.0.0.1:51294}:process_udp_stream:process_udp_stream{[3mhost[0m[2m=[0m"host-foobar-3296"}: magic_tunnel_server::remote::udp: read 3 bytes message from remote client cid=Xbyd64Nlvg5vU-EHdbgRLqJlBo9embbvEFvkDzSbKos sid=stream_zfEtuzELKyI
2022-06-19T08:38:57.384305Z DEBUG handle_websocket:handle_new_connection{[3mclient_ip[0m[2m=[0m127.0.0.1:51294}:process_udp_stream:process_udp_stream{[3mhost[0m[2m=[0m"host-foobar-3296"}: magic_tunnel_server::remote::udp: sent data packet to client cid=Xbyd64Nlvg5vU-EHdbgRLqJlBo9embbvEFvkDzSbKos sid=stream_zfEtuzELKyI
2022-06-19T08:39:01.590054Z DEBUG handle_websocket:handle_new_connection{[3mclient_ip[0m[2m=[0m127.0.0.1:51294}:process_udp_stream:process_udp_stream{[3mhost[0m[2m=[0m"host-foobar-3296"}: magic_tunnel_server::remote::udp: read 3 bytes message from remote client cid=Xbyd64Nlvg5vU-EHdbgRLqJlBo9embbvEFvkDzSbKos sid=stream_vuj_PpBPiR0
2022-06-19T08:39:01.590426Z DEBUG handle_websocket:handle_new_connection{[3mclient_ip[0m[2m=[0m127.0.0.1:51294}:process_udp_stream:process_udp_stream{[3mhost[0m[2m=[0m"host-foobar-3296"}: magic_tunnel_server::remote::udp: sent data packet to client cid=Xbyd64Nlvg5vU-EHdbgRLqJlBo9embbvEFvkDzSbKos sid=stream_vuj_PpBPiR0
2022-06-19T08:39:06.523249Z DEBUG handle_websocket:handle_new_connection{[3mclient_ip[0m[2m=[0m127.0.0.1:51294}:process_udp_stream:process_udp_stream{[3mhost[0m[2m=[0m"host-foobar-3296"}: magic_tunnel_server::remote::udp: read 3 bytes message from remote client cid=Xbyd64Nlvg5vU-EHdbgRLqJlBo9embbvEFvkDzSbKos sid=stream_PzKlvcQa7zw
2022-06-19T08:39:06.524305Z DEBUG handle_websocket:handle_new_connection{[3mclient_ip[0m[2m=[0m127.0.0.1:51294}:process_udp_stream:process_udp_stream{[3mhost[0m[2m=[0m"host-foobar-3296"}: magic_tunnel_server::remote::udp: sent data packet to client cid=Xbyd64Nlvg5vU-EHdbgRLqJlBo9embbvEFvkDzSbKos sid=stream_PzKlvcQa7zw
2022-06-19T08:51:38.949762Z  INFO proxy_server: Prometheus endpoint: localhost:9000
2022-06-19T08:51:38.949862Z DEBUG proxy_server: Config { control_port: 5000, token_secret: "secret", host: "localhost", remote_port_start: 3000, remote_port_end: 4000 }
2022-06-19T08:51:38.950824Z  INFO run: magic_tunnel_server::proxy_server: starting server!
2022-06-19T08:51:38.951085Z  INFO run: magic_tunnel_server::proxy_server: started tunnelto server on 0.0.0.0:5000
2022-06-19T08:51:38.951484Z  INFO Server::run{[3maddr[0m[2m=[0m0.0.0.0:5000}: warp::server: listening on http://0.0.0.0:5000
2022-06-19T08:51:51.217026Z DEBUG hyper::proto::h1::io: parsed 5 headers
2022-06-19T08:51:51.217195Z DEBUG hyper::proto::h1::conn: incoming body is empty
2022-06-19T08:51:51.217631Z DEBUG hyper::proto::h1::io: flushed 166 bytes
2022-06-19T08:51:51.218363Z DEBUG handle_websocket:handle_new_connection{[3mclient_ip[0m[2m=[0m127.0.0.1:51694}:try_client_handshake: magic_tunnel_server::control_server: read client hello
2022-06-19T08:51:51.218818Z DEBUG handle_websocket:handle_new_connection{[3mclient_ip[0m[2m=[0m127.0.0.1:51694}:try_client_handshake:verify_client_handshake{[3mclient_hello_data[0m[2m=[0m[123, 34, 118, 101, 114, 115, 105, 111, 110, 34, 58, 48, 44, 34, 116, 111, 107, 101, 110, 34, 58, 34, 101, 121, 74, 48, 101, 88, 65, 105, 79, 105, 74, 75, 86, 49, 81, 105, 76, 67, 74, 104, 98, 71, 99, 105, 79, 105, 74, 73, 85, 122, 73, 49, 78, 105, 74, 57, 46, 101, 121, 74, 111, 98, 51, 78, 48, 73, 106, 111, 105, 98, 71, 57, 106, 89, 87, 120, 111, 98, 51, 78, 48, 73, 105, 119, 105, 97, 87, 70, 48, 73, 106, 111, 120, 78, 106, 85, 49, 78, 106, 73, 52, 78, 122, 69, 120, 76, 67, 74, 108, 101, 72, 65, 105, 79, 106, 69, 50, 78, 84, 85, 50, 77, 106, 107, 122, 77, 84, 70, 57, 46, 112, 106, 87, 111, 99, 103, 72, 115, 74, 121, 105, 52, 52, 50, 78, 106, 105, 52, 70, 107, 88, 120, 76, 70, 108, 109, 72, 103, 80, 103, 105, 108, 104, 83, 67, 108, 77, 104, 107, 50, 115, 88, 56, 34, 44, 34, 112, 97, 121, 108, 111, 97, 100, 34, 58, 34, 85, 68, 80, 34, 125]}: magic_tunnel_server::control_server: got client handshake ClientHello { version: 0, token: "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJob3N0IjoibG9jYWxob3N0IiwiaWF0IjoxNjU1NjI4NzExLCJleHAiOjE2NTU2MjkzMTF9.pjWocgHsJyi442Nji4FkXxLFlmHgPgilhSClMhk2sX8", payload: UDP }
2022-06-19T08:51:51.219109Z  INFO handle_websocket:handle_new_connection{[3mclient_ip[0m[2m=[0m127.0.0.1:51694}:try_client_handshake:verify_client_handshake{[3mclient_hello_data[0m[2m=[0m[123, 34, 118, 101, 114, 115, 105, 111, 110, 34, 58, 48, 44, 34, 116, 111, 107, 101, 110, 34, 58, 34, 101, 121, 74, 48, 101, 88, 65, 105, 79, 105, 74, 75, 86, 49, 81, 105, 76, 67, 74, 104, 98, 71, 99, 105, 79, 105, 74, 73, 85, 122, 73, 49, 78, 105, 74, 57, 46, 101, 121, 74, 111, 98, 51, 78, 48, 73, 106, 111, 105, 98, 71, 57, 106, 89, 87, 120, 111, 98, 51, 78, 48, 73, 105, 119, 105, 97, 87, 70, 48, 73, 106, 111, 120, 78, 106, 85, 49, 78, 106, 73, 52, 78, 122, 69, 120, 76, 67, 74, 108, 101, 72, 65, 105, 79, 106, 69, 50, 78, 84, 85, 50, 77, 106, 107, 122, 77, 84, 70, 57, 46, 112, 106, 87, 111, 99, 103, 72, 115, 74, 121, 105, 52, 52, 50, 78, 106, 105, 52, 70, 107, 88, 120, 76, 70, 108, 109, 72, 103, 80, 103, 105, 108, 104, 83, 67, 108, 77, 104, 107, 50, 115, 88, 56, 34, 44, 34, 112, 97, 121, 108, 111, 97, 100, 34, 58, 34, 85, 68, 80, 34, 125]}: magic_tunnel_server::control_server: successfully validate client jwt
2022-06-19T08:51:51.219480Z DEBUG handle_websocket:handle_new_connection{[3mclient_ip[0m[2m=[0m127.0.0.1:51694}:try_client_handshake:send_server_hello{[3mserver_hello[0m[2m=[0mSuccess { client_id: ClientId("j24DiIIkJh-IoOdauamgLwSKWnkJzmiuIznpFfLWIuw"), remote_addr: "localhost:3829" }}: magic_tunnel_server::control_server: send server handshake Success { client_id: ClientId("j24DiIIkJh-IoOdauamgLwSKWnkJzmiuIznpFfLWIuw"), remote_addr: "localhost:3829" }
2022-06-19T08:51:51.219656Z  INFO handle_websocket:handle_new_connection{[3mclient_ip[0m[2m=[0m127.0.0.1:51694}: magic_tunnel_server::control_server: open tunnel cid=j24DiIIkJh-IoOdauamgLwSKWnkJzmiuIznpFfLWIuw port=3829
2022-06-19T08:51:51.219771Z  INFO handle_websocket:handle_new_connection{[3mclient_ip[0m[2m=[0m127.0.0.1:51694}: magic_tunnel_server::remote::udp: remote process listening on "0.0.0.0:3829" remote=host-foobar-3829
2022-06-19T08:51:51.219873Z DEBUG handle_websocket:handle_new_connection{[3mclient_ip[0m[2m=[0m127.0.0.1:51694}: magic_tunnel_server::control_server: register remote_cancellers len=1 cid=j24DiIIkJh-IoOdauamgLwSKWnkJzmiuIznpFfLWIuw
2022-06-19T08:51:51.219939Z DEBUG handle_websocket:handle_new_connection{[3mclient_ip[0m[2m=[0m127.0.0.1:51694}: magic_tunnel_server::control_server: register client to connections len_clients=1 len_hosts=1 cid=j24DiIIkJh-IoOdauamgLwSKWnkJzmiuIznpFfLWIuw
2022-06-19T10:05:45.115677Z DEBUG handle_websocket:handle_new_connection{[3mclient_ip[0m[2m=[0m127.0.0.1:51694}:process_client:process_client_messages: warp::filters::ws: websocket poll error: WebSocket protocol error: Connection reset without closing handshake
2022-06-19T10:05:45.117385Z DEBUG handle_websocket:handle_new_connection{[3mclient_ip[0m[2m=[0m127.0.0.1:51694}:process_client:process_client_messages: magic_tunnel_server::control_server: goodbye client cid=j24DiIIkJh-IoOdauamgLwSKWnkJzmiuIznpFfLWIuw
2022-06-19T10:05:45.117776Z DEBUG handle_websocket:handle_new_connection{[3mclient_ip[0m[2m=[0m127.0.0.1:51694}:process_client: magic_tunnel_server::connected_clients: rm client cid=j24DiIIkJh-IoOdauamgLwSKWnkJzmiuIznpFfLWIuw
2022-06-19T10:05:45.117872Z DEBUG handle_websocket:handle_new_connection{[3mclient_ip[0m[2m=[0m127.0.0.1:51694}:process_client: magic_tunnel_server::control_server: remove client from connections len_clients=0 len_hosts=0 cid=j24DiIIkJh-IoOdauamgLwSKWnkJzmiuIznpFfLWIuw
2022-06-19T10:05:45.118043Z DEBUG handle_websocket:handle_new_connection{[3mclient_ip[0m[2m=[0m127.0.0.1:51694}:process_client: magic_tunnel_server::control_server: cancel remote process cid=j24DiIIkJh-IoOdauamgLwSKWnkJzmiuIznpFfLWIuw
2022-06-19T10:05:45.118334Z DEBUG handle_websocket:handle_new_connection{[3mclient_ip[0m[2m=[0m127.0.0.1:51694}:tunnel_client:tunnel_client: magic_tunnel_server::control_server: ending client tunnel cid=j24DiIIkJh-IoOdauamgLwSKWnkJzmiuIznpFfLWIuw
2022-06-19T10:05:45.118527Z DEBUG handle_websocket:handle_new_connection{[3mclient_ip[0m[2m=[0m127.0.0.1:51694}:tunnel_client: magic_tunnel_server::connected_clients: rm client cid=j24DiIIkJh-IoOdauamgLwSKWnkJzmiuIznpFfLWIuw
2022-06-19T10:05:45.118616Z DEBUG handle_websocket:handle_new_connection{[3mclient_ip[0m[2m=[0m127.0.0.1:51694}:tunnel_client: magic_tunnel_server::control_server: remove client from connections len_clients=0 len_hosts=0 cid=j24DiIIkJh-IoOdauamgLwSKWnkJzmiuIznpFfLWIuw
